(this.webpackJsonpreact2dust=this.webpackJsonpreact2dust||[]).push([[0],{80:function(e,t,c){},81:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c(10),a=c.n(n),i=c(0);var l=function(){return Object(i.jsx)("div",{className:"jumbotron jumbotron-fluid ",style:{backgroundImage:"url(./images/header.jpg)"},children:Object(i.jsx)("header",{className:"navbar-brand header",children:" Comp2Dust "})})};var r=function(){return Object(i.jsx)("footer",{className:"rounded",style:{backgroundImage:"url(./images/header.jpg)"},children:Object(i.jsx)("div",{className:"navbar navbar-light navbar-expand",children:Object(i.jsx)("div",{className:"container justify-content-center",children:Object(i.jsxs)("ul",{className:"nav navbar-nav",children:[Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)("a",{className:"nav-link disabled",href:"A simple Manual",children:"Docs"})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)("a",{className:"nav-link disabled ",children:"Examples"})}),Object(i.jsx)("li",{className:"nav-item ",children:Object(i.jsx)("a",{className:"nav-link",href:"https://github.com/YigitSIK/Comp2Dust",title:"View the GitHub project",children:"GitHub"})}),Object(i.jsx)("li",{className:"nav-item ",children:Object(i.jsx)("a",{className:"nav-link disabled",href:"This part will be an explanation about algs",title:"Explore more projects",children:"Explore"})}),Object(i.jsx)("li",{className:"nav-item ",children:Object(i.jsx)("a",{className:"nav-link disabled",href:"Explanation of the project",title:"About the author",children:"About"})})]})})})})},o=c(18),j=c(3),d=c(6),b=c.n(d),u=c(11),m=c.n(u),h=(c(29),{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:1},desktop:{breakpoint:{max:3e3,min:1024},items:1},tablet:{breakpoint:{max:1024,min:464},items:1},mobile:{breakpoint:{max:464,min:0},items:1}}),p={superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:6},desktop:{breakpoint:{max:3e3,min:1024},items:5},tablet:{breakpoint:{max:1024,min:464},items:3},mobile:{breakpoint:{max:464,min:0},items:2}},O=c(15),x=c.n(O),f=c(84);var g=function(e){return Object(i.jsxs)("div",{className:"col-lg-8 rounded",children:[Object(i.jsx)(m.a,{responsive:h,swipeable:!1,draggable:!1,children:!1===e.checkIn&&!1===e.checkOut?Object(i.jsx)("div",{className:"card ",id:"mainCard",children:Object(i.jsx)(x.a,{leftImage:"/images/upload.jpg",rightImage:"/images/upload.jpg"},"default")}):e.imageArray.inputArray.map((function(t,c){return function(t,c){return console.log(t),!0===e.checkIn&&!1===e.checkOut?Object(i.jsx)("div",{className:"card ",id:"mainCard",children:Object(i.jsx)(x.a,{leftImage:e.sessionID+"/"+t,rightImage:e.sessionID+"/"+t},c)}):e.checkIn&&e.checkOut?Object(i.jsx)("div",{className:"card ",id:"mainCard",children:Object(i.jsx)(x.a,{leftImage:e.sessionID+"/"+t,rightImage:e.sessionID+"/"+e.outputArray.outputArray[c]},c)}):void 0}(t,c)}))}),Object(i.jsx)("div",{children:null===e.uploadProgress||100===e.uploadProgress?null:Object(i.jsxs)("div",{className:"my-5",children:[Object(i.jsx)("label",{htmlFor:"props.uploadProgress",children:Object(i.jsx)("h6",{children:"Upload Progress"})}),Object(i.jsx)(f.a,{now:e.uploadProgress})]})}),e.checkOut?Object(i.jsxs)("div",{className:" alert alert-info text-center mt-3",children:["You have saved ",(e.size-e.oSize).toFixed(1)," kb in total"]}):null,Object(i.jsx)("div",{children:!1===e.checkOut&&!0===e.checkIn?Object(i.jsx)("div",{className:" alert alert-info text-center mt-3",children:"Choose your options then press compress button to compress your images"}):null})]})};var v=function(e){return Object(i.jsx)("div",{className:"column col mb-3  shadow-sm d-flex",id:"dispCard",children:Object(i.jsx)("img",{className:"card-img",id:"imgDisp",src:e.src,alt:"upload.jpg"},e.src)})};var N=function(e){var t=e.id,c=e.parentProps.statistics,s=String(c[e.id].input);return s=s.substring(s.lastIndexOf("/")+1,s.length),Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"row",children:t+1}),Object(i.jsx)("td",{children:s}),Object(i.jsx)("td",{children:c[e.id].algorithm}),Object(i.jsx)("td",{children:(c[e.id].size_in/1024).toFixed(1)+" kb"}),Object(i.jsx)("td",{children:(c[e.id].size_output/1024).toFixed(1)+" kb"}),Object(i.jsx)("td",{children:c[e.id].percent})]})};var y=function(e){return Object(i.jsx)("div",{className:"mb-4",children:Object(i.jsxs)("div",{className:"card my-3 shadow rounded",children:[Object(i.jsxs)("h5",{className:"card-header d-flex align-items-center justify-content-between",children:[Object(i.jsx)("span",{children:"Input image "}),0==e.checkOut?null:Object(i.jsx)("a",{onClick:function(){b.a.get("/download").then((function(e){window.open("https://comp2dust.herokuapp.com/download")})).catch((function(e){console.log(e)}))},download:"pack.zip",className:"btn btn-primary",children:"download"})]}),Object(i.jsx)("div",{className:"card-body",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)(m.a,{responsive:p,children:!1===e.checkIn&&!1===e.checkOut?Object(i.jsx)(v,{src:"/images/upload.jpg"}):e.imageArray.inputArray.map((function(t,c){return function(t){return!1===e.checkIn?Object(i.jsx)(v,{src:"/images/upload.jpg"}):!0===e.checkIn?Object(i.jsx)(v,{src:e.sessionID+"/"+t},t):void 0}(t)}))}),Object(i.jsx)("hr",{}),Object(i.jsx)(m.a,{responsive:p,children:!1===e.checkIn&&!1===e.checkOut?null:e.imageArray.inputArray.map((function(t,c){return function(t,c){if(!0===e.checkOut)return Object(i.jsx)(v,{src:e.sessionID+"/"+e.outputArray.outputArray[c]},e.outputArray.outputArray[c])}(0,c)}))}),Object(i.jsx)("div",{children:Object(i.jsx)("div",{children:Object(i.jsxs)("table",{className:"table shadow-sm",children:[!1===e.checkOut?null:Object(i.jsx)("thead",{className:"thead-dark",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"col",children:"#"}),Object(i.jsx)("th",{scope:"col",children:"Name"}),Object(i.jsx)("th",{scope:"col",children:"Algorithm"}),Object(i.jsx)("th",{scope:"col",children:"Input Size"}),Object(i.jsx)("th",{scope:"col",children:"Output Size"}),Object(i.jsx)("th",{scope:"col",children:"Compression %"})]})}),Object(i.jsx)("tbody",{children:!1===e.checkOut?null:e.imageArray.inputArray.map((function(t,c){return function(t,c){if(!0===e.checkOut)return Object(i.jsx)(N,{parentProps:e,id:c},c)}(0,c)}))})]})})})]})})]})})},k=c(12),w=c.n(k),I=c(85),A=c(83);var S=function(){var e=Object(s.useState)(!1),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(!1),l=Object(j.a)(a,2),r=l[0],o=l[1];return Object(s.useEffect)((function(){!function(e){var t=new FormData;null!=r&&(t.append("file",e.inputFiles),b.a.post("/uploadText",t,{onUploadProgress:function(e){}}).then((function(e){})).catch((function(e){console.log(e)})))}(r)}),[r]),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)(I.a,{onClick:function(){return n(!c)},"aria-controls":"example-fade-text","aria-expanded":c,children:"Info"}),Object(i.jsx)(A.a,{in:c,children:Object(i.jsx)("div",{id:"example-fade-text",children:Object(i.jsx)("div",{className:"m-3",children:Object(i.jsxs)("ul",{className:"list-group",children:[Object(i.jsx)("li",{className:"list-group-item",children:Object(i.jsxs)("label",{className:"btn btn-primary",children:[Object(i.jsx)("h5",{children:"Upload Your Quantization Table !!!"}),Object(i.jsx)("input",{type:"file",hidden:!0,id:"file",name:"file",multiple:"multiple",onChange:function(e){o({inputFiles:e.target.files[0]})}})]})}),Object(i.jsx)("li",{className:"list-group-item",children:Object(i.jsx)("a",{href:"https://github.com/mozilla/mozjpeg/blob/master/usage.txt",children:"Mozjpeg"})}),Object(i.jsx)("li",{className:"list-group-item",children:"Morbi leo risus"}),Object(i.jsx)("li",{className:"list-group-item",children:"Porta ac consectetur ac"}),Object(i.jsx)("li",{className:"list-group-item",children:"Vestibulum at eros"})]})})})})]})};var C=function(){function e(e){console.log(w()(e.target).val())}return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"alert alert-info  text-center my-1",children:"Commands are for advanced users. You can check the Info button below too see manuals or you can leave it empty for default values."}),Object(i.jsx)("div",{className:"m-3",children:Object(i.jsx)(S,{})}),Object(i.jsxs)("div",{className:"col-md-6 offset-md-1",id:"optionBox",children:[Object(i.jsxs)("div",{className:"form-row d-flex",children:[Object(i.jsxs)("div",{className:"form-group col-6 mb-3",children:[Object(i.jsx)("label",{children:Object(i.jsx)("h6",{children:"JPG Engine"})}),Object(i.jsxs)("select",{className:"form-control",name:"JPG",onChange:e,children:[Object(i.jsx)("option",{defaultValue:"mozjpeg",children:"mozjpeg"}),Object(i.jsx)("option",{value:"jpegtran",children:"jpegtran"}),Object(i.jsx)("option",{value:"webp",children:"webp"}),Object(i.jsx)("option",{value:"guetzli",children:"guetzli"}),Object(i.jsx)("option",{value:"jpegRecompress",children:"jpegRecompress"}),Object(i.jsx)("option",{value:"jpegoptim",children:"jpegoptim"})]})]}),Object(i.jsxs)("div",{className:"form-group col-12 mb-3 mx-3",children:[Object(i.jsx)("label",{children:Object(i.jsx)("h6",{children:"Command"})}),Object(i.jsx)("input",{className:"form-control",type:"text",name:"commandJPG",id:"commandJPG",onKeyUp:e})]})]}),Object(i.jsxs)("div",{className:"form-row d-flex",children:[Object(i.jsxs)("div",{className:"form-group col-6 mb-3",children:[Object(i.jsx)("label",{children:Object(i.jsx)("h6",{children:"PNG Engine"})}),Object(i.jsxs)("select",{className:"form-control",name:"PNG",onChange:e,children:[Object(i.jsx)("option",{defaultValue:!0,children:"pngquant"}),Object(i.jsx)("option",{value:"optipng",children:"optipng"}),Object(i.jsx)("option",{value:"pngout",children:"pngout"}),Object(i.jsx)("option",{value:"webp",children:"webp"}),Object(i.jsx)("option",{value:"pngcrush",children:"pngcrush"})]})]}),Object(i.jsxs)("div",{className:"form-group col-12 mb-3 mx-3",children:[Object(i.jsx)("label",{children:Object(i.jsx)("h6",{children:"Command"})}),Object(i.jsx)("input",{className:"form-control",type:"text",name:"commandPNG",id:"commandPNG",onKeyUp:e})]})]}),Object(i.jsxs)("div",{className:"form-row d-flex",children:[Object(i.jsxs)("div",{className:"form-group col-6 mb-3",children:[Object(i.jsx)("label",{children:Object(i.jsx)("h6",{children:"SVG Engine"})}),Object(i.jsx)("select",{className:"form-control",name:"SVG",children:Object(i.jsx)("option",{defaultValue:!0,children:"svgo"})})]}),Object(i.jsxs)("div",{className:"form-group col-12 mb-3 mx-3",children:[Object(i.jsx)("label",{children:Object(i.jsx)("h6",{children:"Command"})}),Object(i.jsx)("input",{className:"form-control",type:"text",name:"commandSVG",id:"commandSVG",onKeyUp:e})]})]}),Object(i.jsxs)("div",{className:"form-row d-flex",children:[Object(i.jsxs)("div",{className:"form-group col-6 mb-3",children:[Object(i.jsx)("label",{children:Object(i.jsx)("h6",{children:"GIF Engine"})}),Object(i.jsxs)("select",{className:"form-control",name:"GIF",children:[Object(i.jsx)("option",{defaultValue:!0,children:"gifsicle"}),Object(i.jsx)("option",{value:"giflossy",children:"giflossy"}),Object(i.jsx)("option",{value:"gif2webp",children:"gif2webp"})]})]}),Object(i.jsxs)("div",{className:"form-group col-12 mb-3 mx-3",children:[Object(i.jsx)("label",{children:Object(i.jsx)("h6",{children:"Command"})}),Object(i.jsx)("input",{className:"form-control",type:"text",name:"commandGIF",id:"commandGIF",onKeyUp:e})]})]})]})]})})};var F=function(){var e=Object(s.useState)(null),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(null),l=Object(j.a)(a,2),r=l[0],d=l[1],u=Object(s.useState)(null),m=Object(j.a)(u,2),h=m[0],p=m[1],O=Object(s.useState)(0),x=Object(j.a)(O,2),f=x[0],v=x[1],N=Object(s.useState)(!1),k=Object(j.a)(N,2),I=k[0],A=k[1],S=Object(s.useState)(!1),F=Object(j.a)(S,2),G=F[0],P=F[1],z=Object(s.useState)(null),D=Object(j.a)(z,2),E=D[0],V=D[1],U=Object(s.useState)(null),J=Object(j.a)(U,2),K=J[0],M=J[1],R=Object(s.useState)(null),T=Object(j.a)(R,2),Y=T[0],_=T[1],B=Object(s.useState)(0),H=Object(j.a)(B,2),L=H[0],q=H[1],Q=Object(s.useState)(0),W=Object(j.a)(Q,2),X=W[0],Z=W[1];return Object(s.useEffect)((function(){!function(e){var t=new FormData;if(null!=r){var c,s=Object(o.a)(e.inputFiles);try{for(s.s();!(c=s.n()).done;){var a=c.value;t.append("file",a)}}catch(i){s.e(i)}finally{s.f()}b.a.post("/upload",t,{onUploadProgress:function(e){_(Math.round(e.loaded/e.total*100))}}).then((function(e){var t=new Array;Array.from(r.inputFiles).forEach((function(e){t.push(e.name)})),n({inputArray:t}),P(!0)})).catch((function(e){console.log(e)}))}}(r)}),[r]),Object(s.useEffect)((function(){var e=0,t=0;for(var c in E)e+=E[c].size_in/1024,t+=E[c].size_output/1024;q(e.toFixed(1)),Z(t.toFixed(1))}),[E]),w()("#optionsForm").keydown((function(e){if(13==e.keyCode)return e.preventDefault(),!1})),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"btn-group col-12 mb-3 ",children:Object(i.jsxs)("label",{className:"btn btn-primary",title:"select an image (jpeg, png)",children:[Object(i.jsx)("h5",{children:"Upload"}),Object(i.jsx)("input",{type:"file",hidden:!0,id:"file",name:"file",multiple:"multiple",onChange:function(e){b.a.get("/reset").then((function(t){P(!1),A(!1),d({inputFiles:e.target.files}),M(t.data)})).catch((function(e){console.log(e)}))}}),"        "]})}),G?null:Object(i.jsxs)("div",{className:" alert alert-info text-center",children:[Object(i.jsx)("strong",{children:"To get started use the upload button to upload up to 100 JPG, PNG, GIF, SVG files"}),"                     "]}),Object(i.jsxs)("div",{className:"row",children:["             ",Object(i.jsx)(g,{imageArray:c,outputArray:h,checkOut:I,checkIn:G,statistics:E,sessionID:K,uploadProgress:Y,size:L,oSize:X}),Object(i.jsx)("div",{className:"col-lg-4 mb-4 ",children:Object(i.jsxs)("form",{action:"/compSubmit",id:"optionsForm",method:"post",children:["                          ",Object(i.jsxs)("div",{className:"card h-100 shadow rounded",children:[Object(i.jsx)("h4",{className:"card-header",children:"Options"}),Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)(C,{}),"                                                                         ",Object(i.jsxs)("div",{className:"form-group row m-5",children:[Object(i.jsx)("button",{className:"btn bg-primary",onClick:function(){b.a.get("/buttonReset").then((function(e){A(!1)})).catch((function(e){console.log(e)}))},type:"button",children:"Reset"}),"                       "]}),Object(i.jsxs)("div",{className:"form-group row m-5",children:[Object(i.jsx)("button",{className:"btn bg-primary",onClick:function(){var e=w()("#optionsForm").serialize();b.a.get("/deleteOutput").then((function(t){A(!1),b.a.post("/compSubmit",e).then((function(e){V(e.data.statistics),b.a.post("/rename",{compIndex:f}).then((function(e){var t,s=new Array,n=Object(o.a)(c.inputArray);try{for(n.s();!(t=n.n()).done;){var a=t.value;s.push("compressed-"+f+"-"+a),v(f+1)}}catch(i){n.e(i)}finally{n.f()}p({outputArray:s}),A(!0)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},type:"button",children:"Compress"}),"                   "]})]})]})]})}),!0===G?Object(i.jsx)(y,{imageArray:c,outputArray:h,checkOut:I,checkIn:G,statistics:E,sessionID:K}):Object(i.jsx)("div",{})]})]})};var G=function(){return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"container rounded",children:[Object(i.jsx)(l,{}),"                               ",Object(i.jsx)(F,{}),"                                   ",Object(i.jsx)(r,{}),"                                  "]})})};c(80);a.a.render(Object(i.jsx)(G,{}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.e0428707.chunk.js.map