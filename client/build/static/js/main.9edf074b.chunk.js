(this.webpackJsonpreact2dust=this.webpackJsonpreact2dust||[]).push([[0],{85:function(e,t,c){},86:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c(8),a=c.n(n),r=c(0);var i=function(){return Object(r.jsxs)("div",{className:"jumbotron jumbotron-fluid ",style:{backgroundImage:"url(./images/header.jpg)"},children:[Object(r.jsx)("header",{className:"navbar-brand header",children:Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"Comp2Dust"})})}),Object(r.jsx)("h6",{className:"title",children:Object(r.jsx)("strong",{children:"Image Compressor"})})]})};var l=function(){return Object(r.jsx)("footer",{className:"rounded",style:{backgroundImage:"url(./images/header.jpg)"},children:Object(r.jsx)("div",{className:"navbar navbar-light navbar-expand",children:Object(r.jsx)("div",{className:"container justify-content-center",children:Object(r.jsxs)("ul",{className:"nav navbar-nav",children:[Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)("a",{className:"nav-link disabled",href:"A simple Manual",children:"Docs"})}),Object(r.jsx)("li",{className:"nav-item ",children:Object(r.jsx)("a",{className:"nav-link",href:"https://github.com/YigitSIK/Comp2Dust",title:"View the GitHub project",children:"GitHub"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)("a",{className:"nav-link disabled ",children:"Examples"})})]})})})})},o=c(22),d=c(5),j=c(9),u=c.n(j),m=c(13),b=c.n(m),h=(c(35),{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:1},desktop:{breakpoint:{max:3e3,min:1024},items:1},tablet:{breakpoint:{max:1024,min:464},items:1},mobile:{breakpoint:{max:464,min:0},items:1}}),O={superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:6},desktop:{breakpoint:{max:3e3,min:1024},items:5},tablet:{breakpoint:{max:1024,min:464},items:3},mobile:{breakpoint:{max:464,min:0},items:2}},p=c(16),x=c.n(p),f=c(94);var g=function(e){return Object(r.jsxs)("div",{className:"col-lg-8 rounded",children:[Object(r.jsx)(b.a,{responsive:h,swipeable:!1,draggable:!1,children:!1===e.checkIn&&!1===e.checkOut?Object(r.jsx)("div",{className:"card ",id:"mainCard",children:Object(r.jsx)(x.a,{leftImage:"/images/upload.jpg",rightImage:"/images/upload.jpg"},"default")}):e.imageArray.inputArray.map((function(t,c){return function(t,c){return!0===e.checkIn&&!1===e.checkOut||e.errorStatus?Object(r.jsx)("div",{className:"card ",id:"mainCard",children:Object(r.jsx)(x.a,{leftImage:e.sessionID+"/"+t,rightImage:e.sessionID+"/"+t},c)}):e.checkIn&&e.checkOut?Object(r.jsx)("div",{className:"card ",id:"mainCard",children:Object(r.jsx)(x.a,{leftImage:e.sessionID+"/"+t,rightImage:e.sessionID+"/"+e.outputArray.outputArray[c]},c)}):void 0}(t,c)}))}),Object(r.jsx)("div",{children:null===e.uploadProgress||100===e.uploadProgress?null:Object(r.jsxs)("div",{className:"my-5",children:[Object(r.jsx)("label",{htmlFor:"props.uploadProgress",children:Object(r.jsx)("h6",{children:"Upload Progress"})}),Object(r.jsx)(f.a,{now:e.uploadProgress})]})}),e.checkOut&&0==e.errorStatus?Object(r.jsxs)("div",{className:" alert alert-info text-center mt-3",children:["You have saved ",(e.size-e.oSize).toFixed(1)," kb in total"]}):null,Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:e.errorStatus?Object(r.jsx)("div",{className:" alert alert-info text-center mt-3",children:Object(r.jsx)("p",{children:"There was an error, check your commands"})}):null}),!1===e.checkOut&&!0===e.checkIn&&!1===e.isLoading?Object(r.jsx)("div",{className:" alert alert-info text-center mt-3",children:"Choose your options then press compress button to compress your images"}):null]}),e.loadingStatus?Object(r.jsx)("div",{className:" alert alert-info text-center mt-3",children:"Please wait... Compressing Images"}):null]})};var v=function(e){return Object(r.jsx)("div",{className:"column col mb-3  shadow-sm d-flex",id:"dispCard",children:Object(r.jsx)("img",{className:"card-img",id:"imgDisp",src:e.src,alt:"upload.jpg"},e.src)})};var N=function(e){var t=e.id,c=e.parentProps.statistics,s=String(c[e.id].input);return s=s.substring(s.lastIndexOf("/")+1,s.length),Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"row",children:t+1}),Object(r.jsx)("td",{children:s}),Object(r.jsx)("td",{children:c[e.id].algorithm}),Object(r.jsx)("td",{children:(c[e.id].size_in/1024).toFixed(1)+" kb"}),Object(r.jsx)("td",{children:(c[e.id].size_output/1024).toFixed(1)+" kb"}),Object(r.jsx)("td",{children:c[e.id].percent})]})};var y=function(e){return Object(r.jsx)("div",{className:"mb-4",children:Object(r.jsxs)("div",{className:"card my-3 shadow rounded",children:[Object(r.jsxs)("h5",{className:"card-header d-flex align-items-center justify-content-between",children:[Object(r.jsx)("span",{children:"Input image "}),0==e.checkOut?null:Object(r.jsx)("a",{onClick:function(){u.a.get("/download").then((function(e){window.open("https://comp2dust.herokuapp.com/download")})).catch((function(e){console.log(e)}))},download:"pack.zip",className:"btn btn-primary",children:"download"})]}),Object(r.jsx)("div",{className:"card-body",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)(b.a,{responsive:O,children:!1===e.checkIn&&!1===e.checkOut?Object(r.jsx)(v,{src:"/images/upload.jpg"}):e.imageArray.inputArray.map((function(t,c){return function(t){return!1===e.checkIn?Object(r.jsx)(v,{src:"/images/upload.jpg"}):!0===e.checkIn?Object(r.jsx)(v,{src:e.sessionID+"/"+t},t):void 0}(t)}))}),Object(r.jsx)("hr",{}),Object(r.jsx)(b.a,{responsive:O,children:!1===e.checkIn&&!1===e.checkOut||e.error?Object(r.jsxs)("div",{className:" alert alert-info text-center col-12",children:[Object(r.jsx)("strong",{children:"There was an error"}),"                     "]}):e.imageArray.inputArray.map((function(t,c){return function(t,c){if(!0===e.checkOut)return Object(r.jsx)(v,{src:e.sessionID+"/"+e.outputArray.outputArray[c]},e.outputArray.outputArray[c])}(0,c)}))}),Object(r.jsx)("div",{children:Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:"col-lg-12",id:"table",children:Object(r.jsxs)("table",{className:"table shadow-sm",children:[!1===e.checkOut||e.error?null:Object(r.jsx)("thead",{className:"thead-dark",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"#"}),Object(r.jsx)("th",{scope:"col",children:"Name"}),Object(r.jsx)("th",{scope:"col",children:"Algorithm"}),Object(r.jsx)("th",{scope:"col",children:"Input Size"}),Object(r.jsx)("th",{scope:"col",children:"Output Size"}),Object(r.jsx)("th",{scope:"col",children:"Compression %"})]})}),Object(r.jsx)("tbody",{children:!1===e.checkOut||e.error?null:e.imageArray.inputArray.map((function(t,c){return function(t,c){if(!0===e.checkOut)return Object(r.jsx)(N,{parentProps:e,id:c},c)}(0,c)}))})]})})})})]})})]})})},k=c(14),I=c.n(k),w=c(23),S=c(40),A=c(92),C=c(91),F=c(93);var D=function(){var e=Object(s.useState)(!1),t=Object(d.a)(e,2),c=(t[0],t[1],Object(s.useState)(!1)),n=Object(d.a)(c,2),a=n[0],i=n[1];return Object(s.useEffect)((function(){!function(e){var t=new FormData;null!=a&&(t.append("file",e.inputFiles),u.a.post("/uploadText",t,{onUploadProgress:function(e){}}).then((function(e){})).catch((function(e){console.log(e)})))}(a)}),[a]),Object(r.jsx)("div",{className:"row",children:Object(r.jsx)("div",{id:"example-fade-text",children:Object(r.jsxs)("div",{className:"m-1",children:[Object(r.jsxs)("label",{className:"btn btn-primary col-12",children:[Object(r.jsx)("h5",{children:"Upload Configuration File"}),Object(r.jsx)("input",{type:"file",hidden:!0,id:"file",name:"file",multiple:"multiple",accept:".txt",onChange:function(e){i({inputFiles:e.target.files[0]})}})]}),Object(r.jsx)("ul",{className:"list-group"})]})})})};var P=function(){function e(e){}return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{children:[Object(r.jsx)(D,{}),Object(r.jsx)("div",{className:" text-center m-3 p-2",children:Object(r.jsx)(A.a,{placement:"bottom",overlay:Object(r.jsx)(C.a,{id:"button-tooltip-2",children:Object(r.jsx)("strong",{children:"You can check the manual or leave them empty for default values"})}),children:function(e){var t=e.ref,c=Object(S.a)(e,["ref"]);return Object(r.jsx)(F.a,Object(w.a)(Object(w.a)({variant:"light"},c),{},{className:"d-inline-flex align-items-center",children:Object(r.jsx)("div",{ref:t,children:Object(r.jsx)("a",{href:"https://github.com/YigitSIK/Comp2Dust",target:"_blank",children:"What are the commands?"})})}))}})}),Object(r.jsxs)("div",{className:"col-md-6 offset-md-1",id:"optionBox",children:[Object(r.jsxs)("div",{className:"form-row d-flex",children:[Object(r.jsxs)("div",{className:"form-group col-md-6 mb-3",children:[Object(r.jsx)("label",{children:Object(r.jsx)("h6",{children:"JPG Engine"})}),Object(r.jsxs)("select",{className:"form-control",name:"JPG",onChange:e,children:[Object(r.jsx)("option",{defaultValue:"mozjpeg",children:"mozjpeg"}),Object(r.jsx)("option",{value:"jpegtran",children:"jpegtran"})]})]}),Object(r.jsxs)("div",{className:"form-group col-md-12 mb-3 mx-3",children:[Object(r.jsx)("label",{children:Object(r.jsx)("h6",{children:"Command"})}),Object(r.jsx)("input",{className:"form-control",type:"text",name:"commandJPG",id:"commandJPG",placeholder:"Default",onKeyUp:e})]})]}),Object(r.jsxs)("div",{className:"form-row d-flex",children:[Object(r.jsxs)("div",{className:"form-group col-md-6 mb-3",children:[Object(r.jsx)("label",{children:Object(r.jsx)("h6",{children:"PNG Engine"})}),Object(r.jsx)("select",{className:"form-control",name:"PNG",onChange:e,children:Object(r.jsx)("option",{value:"pngquant",children:"pngquant"})})]}),Object(r.jsxs)("div",{className:"form-group col-md-12 mb-3 mx-3",children:[Object(r.jsx)("label",{children:Object(r.jsx)("h6",{children:"Command"})}),Object(r.jsx)("input",{className:"form-control",type:"text",name:"commandPNG",id:"commandPNG",placeholder:"Default",onKeyUp:e})]})]}),Object(r.jsxs)("div",{className:"form-row d-flex",children:[Object(r.jsxs)("div",{className:"form-group col-md-6 mb-3",children:[Object(r.jsx)("label",{children:Object(r.jsx)("h6",{children:"GIF Engine"})}),Object(r.jsx)("select",{className:"form-control",name:"GIF",children:Object(r.jsx)("option",{value:"gifsicle",children:"gifsicle"})})]}),Object(r.jsxs)("div",{className:"form-group col-md-12 mb-3 mx-3",children:[Object(r.jsx)("label",{children:Object(r.jsx)("h6",{children:"Command"})}),Object(r.jsx)("input",{className:"form-control",type:"text",name:"commandGIF",id:"commandGIF",placeholder:"Default",onKeyUp:e})]})]})]})]})})};var G=function(){var e=Object(s.useState)(null),t=Object(d.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(null),i=Object(d.a)(a,2),l=i[0],j=i[1],m=Object(s.useState)(null),b=Object(d.a)(m,2),h=b[0],O=b[1],p=Object(s.useState)(0),x=Object(d.a)(p,2),f=x[0],v=x[1],N=Object(s.useState)(!1),k=Object(d.a)(N,2),w=k[0],S=k[1],A=Object(s.useState)(!1),C=Object(d.a)(A,2),F=C[0],D=C[1],G=Object(s.useState)(null),z=Object(d.a)(G,2),E=z[0],U=z[1],J=Object(s.useState)(null),K=Object(d.a)(J,2),_=K[0],T=K[1],Y=Object(s.useState)(null),L=Object(d.a)(Y,2),q=L[0],B=L[1],H=Object(s.useState)(0),M=Object(d.a)(H,2),V=M[0],W=M[1],Q=Object(s.useState)(0),R=Object(d.a)(Q,2),X=R[0],Z=R[1],$=Object(s.useState)(!1),ee=Object(d.a)($,2),te=ee[0],ce=ee[1],se=Object(s.useState)(!1),ne=Object(d.a)(se,2),ae=ne[0],re=ne[1];return Object(s.useEffect)((function(){!function(e){var t=new FormData;if(null!=l){var c,s=Object(o.a)(e.inputFiles);try{for(s.s();!(c=s.n()).done;){var a=c.value;t.append("file",a)}}catch(r){s.e(r)}finally{s.f()}u.a.post("/upload",t,{onUploadProgress:function(e){B(Math.round(e.loaded/e.total*100))}}).then((function(e){var t=new Array;Array.from(l.inputFiles).forEach((function(e){t.push(e.name)})),void 0!=t[0]&&(n({inputArray:t}),D(!0))})).catch((function(e){console.log(e)}))}}(l)}),[l]),Object(s.useEffect)((function(){var e=0,t=0;for(var c in E)e+=E[c].size_in/1024,t+=E[c].size_output/1024;W(e.toFixed(1)),Z(t.toFixed(1))}),[E]),I()("#optionsForm").keydown((function(e){if(13==e.keyCode)return e.preventDefault(),!1})),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"btn-group col-12 mb-3 ",children:Object(r.jsxs)("label",{className:"btn btn-primary",title:"select an image (jpeg, png , gif)",children:[Object(r.jsx)("h5",{children:"Upload"}),Object(r.jsx)("input",{type:"file",hidden:!0,id:"file",name:"file",multiple:"multiple",accept:".gif,.jpg,.jpeg,.png",onChange:function(e){u.a.get("/reset").then((function(t){D(!1),S(!1),j({inputFiles:e.target.files}),T(t.data),re(!1)})).catch((function(e){console.log(e)}))}}),"        "]})}),F?null:Object(r.jsxs)("div",{className:" alert alert-info text-center",children:[Object(r.jsx)("strong",{children:"To get started use the upload button to upload up to 100 JPG, PNG, GIF files"}),"                     "]}),Object(r.jsxs)("div",{className:"row",children:["             ",Object(r.jsx)(g,{imageArray:c,outputArray:h,checkOut:w,checkIn:F,statistics:E,sessionID:_,uploadProgress:q,size:V,oSize:X,loadingStatus:te,errorStatus:ae}),Object(r.jsx)("div",{className:"col-lg-4 mb-4 ",children:Object(r.jsxs)("form",{action:"/compSubmit",id:"optionsForm",method:"post",children:["                          ",Object(r.jsxs)("div",{className:"card h-100 shadow rounded",children:[Object(r.jsx)("h4",{className:"card-header",children:"Options"}),Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)(P,{}),"                                                                         ",Object(r.jsxs)("div",{className:"form-group row m-5",children:[te?null:Object(r.jsx)("button",{className:"btn bg-primary",onClick:function(){var e=I()("#optionsForm").serialize();re(!1),ce(!0),u.a.get("/deleteOutput").then((function(t){S(!1),u.a.post("/compSubmit",e).then((function(e){U(e.data.statistics),u.a.post("/rename",{compIndex:f}).then((function(e){var t,s=new Array,n=(new Array,Object(o.a)(c.inputArray));try{for(n.s();!(t=n.n()).done;){var a=t.value;s.push("compressed-"+f+"-"+a),v(f+1)}}catch(r){n.e(r)}finally{n.f()}O({outputArray:s}),S(!0)})).catch((function(e){console.log(e)})),ce(!1),null!=e.data.errors[0]&&(re(!0),S(!1))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},type:"button",children:"Compress"}),"                 "]})]})]})]})}),!0===F?Object(r.jsx)(y,{imageArray:c,outputArray:h,checkOut:w,checkIn:F,statistics:E,sessionID:_,error:ae}):Object(r.jsx)("div",{})]})]})};var z=function(){return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"container rounded",children:[Object(r.jsx)(i,{}),"                               ",Object(r.jsx)(G,{}),"                                   ",Object(r.jsx)(l,{}),"                                  "]})})};c(85);a.a.render(Object(r.jsx)(z,{}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.9edf074b.chunk.js.map